<!DOCTYPE html >

  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
	
 
	<title>Marker Cluster Category</title>

	
	
	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
	<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDtGapOqGFeusuCh9XYX9Fiu_y5jaMvlqQ&sensor=false"></script>
	
	
	<script type="text/javascript" src="js/markerclusterer_category.js" ></script>
	<script src="data.json"></script>
	
    <style>
      body {
        margin: 0;
        padding: 10px 20px 20px;
        font-family: Arial;
        font-size: 16px;
      }
    
     #map{
		border-radius: 5px 5px 5px 5px;
		left: 0;
		position: absolute;
		top: 0;
		width: 100%;
		height: 100%;
	}
      
    </style>
	 <script type="text/javascript">
	 google.load('visualization', '1', {'packages':['corechart']});
	 var markerCluster;
	  var mcArray={};
	 var map ;
	
	var pointers=[];
		var maxzoom=10;
	
		//map.setOptions({styles: styles});
		var cnt=1;			
			var type;		
					
		for (var i = 0; i < 1000; ++i) {
          var latLng = new google.maps.LatLng(data.photos[i].latitude,
              data.photos[i].longitude)
			 //alert( data.photos[i].latitude+","+ data.photos[i].longitude);
			if(cnt==1)
			{
				type='blue';		
			}
			else if(cnt==2)
			{
				type='green';	
			}else if(cnt==3)
			{
				type='red';	
				cnt=0;
			}
          var marker = new google.maps.Marker({
            position: latLng,
            draggable: true,
           	mycategory:type 
          });
          pointers.push(marker);
		  cnt++;
        }

					
	
	 
	
	 ////Green Style
	 type='green';
	 var climg=type+'-cluster';
	 
	 
	 var style=[{url: 'images/'+climg+'.png',height: 28,width: 28,textColor:'#FFFFFF'},
							   {url: 'images/'+climg+'1.png',height: 28,width: 28,textColor:'#FFFFFF'},
							   {url: 'images/'+climg+'2.png',height: 28,width: 28,textColor:'#FFFFFF'}];    
						mcArray[type]={styles :style};
						
	 ////Green Style
	 type='red';
	 var climg=type+'-cluster';
	 
	 
	 var style=[{url: 'images/'+climg+'.png',height: 28,width: 28,textColor:'#FFFFFF'},
							   {url: 'images/'+climg+'1.png',height: 28,width: 28,textColor:'#FFFFFF'},
							   {url: 'images/'+climg+'2.png',height: 28,width: 28,textColor:'#FFFFFF'}];    
						mcArray[type]={styles :style};
	
	 type='blue';
	 var climg=type+'-cluster';
	 
	 
	 var style=[{url: 'images/'+climg+'.png',height: 28,width: 28,textColor:'#FFFFFF'},
							   {url: 'images/'+climg+'1.png',height: 28,width: 28,textColor:'#FFFFFF'},
							   {url: 'images/'+climg+'2.png',height: 28,width: 28,textColor:'#FFFFFF'}];    
						mcArray[type]={styles :style};

	
	
	
	
	 function initialize() {
      	map = new google.maps.Map(document.getElementById("map"), {
          zoom: 2,
          center: new google.maps.LatLng(39.91, 116.38),
          mapTypeId: google.maps.MapTypeId.ROADMAP
        });
		var mcOptions={gridSize: 80, maxZoom: maxzoom,zoomOnClick :false,minimumClusterSize:1};
		markerCluster = new MarkerClusterer(map, pointers,mcOptions,mcArray); 
	 }
	  google.maps.event.addDomListener(window, 'load', initialize);
	</script>
	

  </head>

  <body>
  
   
    <div id="map"></div>
	</body>
	</html>
